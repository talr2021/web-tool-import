# GoNature Product Scraper → WooCommerce CSV

כלי שורה (CLI) שמקבל לינק למוצר, מוריד תמונות, ממיר אותן ל־1080×1080 על רקע לבן, מזהה וריאציות (כשיש), ומכין קובץ CSV תואם WooCommerce + ZIP עם כל התמונות.
מומלץ לייבא באמצעות **WP All Import** (או יבואן ה‑CSV המובנה של WooCommerce אם אתם מציינים כתובות קבצים תקפות).

## התקנה
```bash
pip install requests beautifulsoup4 pillow pandas lxml
# (אופציונלי לתיאור אוטומטי): pip install openai
```

## שימוש בסיסי
```bash
python gn_product_scraper.py "https://example.com/product/xyz"
```

הכלי יוצר תיקייה `out_<slug>` ובה:
- `<slug>.csv` – קובץ ה‑CSV ל־WooCommerce (כולל שורת הורה + וריאציות אם אותרו)
- `<slug>_images.zip` – כל התמונות לאחר עיבוד 1080×1080
- `images/` – התמונות המעובדות (JPG)

## פרמטרים שימושיים
- `--brand "GoNature"` – שם המותג (אופציונלי, לשילוב בתיאור/תגים ידנית)
- `--category "ציוד > תרמילים"` – קטגוריה בהיררכיית WooCommerce
- `--tags "טיולים, תרמיל, 40L"` – תגים מופרדים בפסיקים
- `--sku-prefix "GN-"` – קידומת ל‑SKU אם לא נמצא SKU בעמוד
- `--out-prefix "gn-denali-40"` – קידומת לשם קבצי היצוא
- `--max-images 12` – מספר תמונות מקסימלי לגלריה
- `--no-ai` – לכפות כיבוי של כתיבת תיאור בעזרת מודל שפה גם אם מוגדר מפתח

## כיצד להביא את התמונות לגלריה ב‑WooCommerce
- מומלץ להשתמש ב‑**WP All Import** ולהעלות את ה‑CSV + ה‑ZIP של התמונות, ולמפות את עמודת `Images` לשמות הקבצים (הכלי כבר שם את שמות הקבצים).
- ברירת מחדל: הכלי שם עד 6 תמונות בגלריית המוצר ההורה, ותמונת וריאציה ייעודית (אם קיימת).

## וריאציות
הכלי מנסה לזהות וריאציות מ‑WooCommerce (דרך `data-product_variations` ב‑HTML) או מ‑JSON‑LD.
אם לא זוהו וריאציות, יווצר מוצר **פשוט** (simple). אם זוהו – יווצר **variable** עם שורות **variation** לכל קומבינציה שנמצאה.

## תיאורי מוצר
הכלי מייצר תיאור קצר/ארוך בסיסיים מתוך העמוד.
אם תרצו לשפר אוטומטית את הכתיבה בעברית באמצעות מודל שפה:
1. `pip install openai`
2. להגדיר משתני סביבה:
   - `OPENAI_ENABLE=1`
   - `OPENAI_API_KEY=<your key>`

## טיפ לייבוא חלק
- בדקו שה‑CSV מקודד ב‑UTF‑8 עם BOM (הכלי שומר כך).
- אם אתם משתמשים במייבא ברירת המחדל של WooCommerce ורוצים שימשוך תמונות אוטומטית – ניתן גם לשים בעמודת `Images` **כתובות URL מלאות** לתמונות ציבוריות. הכלי כבר מוריד ומבצע ריבוע לבן; לזרימה חלקה עדיף ה‑ZIP + WP All Import.

## מגבלות וצעדים להרחבה
- אתרים שונים משתמשים במבני HTML שונים. הכלי כולל היגיון כללי + מחפש JSON‑LD, אבל יתכן שתצטרכו **adapters** ייעודיים (ל‑Shopify, Magento וכו').
- אפשר להרחיב: העלאה אוטומטית ל‑WordPress דרך REST API (מדיה + מוצרים), חיבור ישיר ל‑WooCommerce API, תמיכה בגלריות 360°/וידאו, ועוד.
